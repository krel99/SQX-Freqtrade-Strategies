10. Keltner Channel Break + ATR Trail
    Concept: Use Keltner Channels to catch volatility expansions; trail the position with ATR.

Indicators:

Keltner Channels (EMA 20 + ATR-based bands)
ATR(14)

timeframe = "15m"

populate*indicators(dataframe):
dataframe.ema20 = EMA(close, 20)
dataframe.atr = ATR(high, low, close, 14)
multiplier = 1.5
dataframe.kc_upper = ema20 + multiplier * atr
dataframe.kc*lower = ema20 - multiplier * atr
return dataframe

populate_entry_trend(dataframe):

    # LONG breakout
    buy_signal = (
        (close > kc_upper)
        AND (close.shift(1) <= kc_upper.shift(1))          # first close above band
    )

    # SHORT breakout
    sell_signal = (
        (close < kc_lower)
        AND (close.shift(1) >= kc_lower.shift(1))
    )

    dataframe.enter_long = buy_signal
    dataframe.enter_short = sell_signal
    return dataframe

populate_exit_trend(dataframe):

    # ATR trailing stop
    dataframe.long_trailing_stop = highest(close, since_entry) - 1.5 * atr
    dataframe.short_trailing_stop = lowest(close, since_entry) + 1.5 * atr

    exit_long = (close < long_trailing_stop)
    exit_short = (close > short_trailing_stop)

    dataframe.exit_long = exit_long
    dataframe.exit_short = exit_short
    return dataframe
