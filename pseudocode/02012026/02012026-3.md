### Stochastic + EMA Bounce Strategy (1m or 5m)

Concept: Trend filter with EMA; enter when Stoch is oversold/overbought and price rejects EMA.

Indicators:

EMA 50
Stochastic (K, D) (14, 3, 3)

```
timeframe = "5m"

populate_indicators(dataframe):
    dataframe.ema50 = EMA(close, 50)
    dataframe.stoch_k, dataframe.stoch_d = STOCH(high, low, close, 14, 3, 3)
    return dataframe

populate_entry_trend(dataframe):

    # LONG ENTRY
    bullish_retest = (
        (close nears ema50 within 0.2%) AND
        (low <= ema50) AND (close > ema50)            # wick through EMA, close above
    )
    buy_signal = (
        (close > ema50)                               # uptrend
        AND (stoch_k < 20 AND stoch_d < 20)           # oversold
        AND bullish_retest
    )

    # SHORT ENTRY
    bearish_retest = (
        (close nears ema50 within 0.2%) AND
        (high >= ema50) AND (close < ema50)           # wick above EMA, close below
    )
    sell_signal = (
        (close < ema50)                               # downtrend
        AND (stoch_k > 80 AND stoch_d > 80)           # overbought
        AND bearish_retest
    )

    dataframe.enter_long = buy_signal
    dataframe.enter_short = sell_signal
    return dataframe

populate_exit_trend(dataframe):

    exit_long = (
        (stoch_k > 70) OR
        (close < ema50)
    )

    exit_short = (
        (stoch_k < 30) OR
        (close > ema50)
    )

    dataframe.exit_long = exit_long
    dataframe.exit_short = exit_short
    return dataframe
```
